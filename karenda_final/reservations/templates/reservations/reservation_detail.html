{% extends 'base.html' %}
{% load static %}

{% block title %}予約詳細 - karenda{% endblock %}

{% block extra_css %}
    <link rel="stylesheet" href="{% static 'css/completion.css' %}">
{% endblock %}

{% block content %}
    <div class="completion-container">
        <h1 class="completion-title">予約詳細</h1>

        <div class="card details-card">
            <div class="card-header">
                <h2>ご予約内容</h2>
            </div>
            <div class="card-body">
                <div class="detail-row">
                    <span class="detail-label">予約番号</span>
                    <span class="detail-value">
                        #{{ reservation.id }}
                    </span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">お名前</span>
                    <span class="detail-value">
                        {{ reservation.name }}
                    </span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">来店日</span>
                    <span class="detail-value">
                        {{ reservation.date|date:"Y年m月d日" }}
                    </span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">時間帯</span>
                    <span class="detail-value">
                        {{ reservation.get_time_slot_display }}
                    </span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">ステータス</span>
                    <span class="detail-value">
                        {% if reservation.status == 'confirmed' %}
                            <span class="status-badge status-confirmed">予約確定</span>
                        {% elif reservation.status == 'cancelled' %}
                            <span class="status-badge" style="background-color: #E8DAEF; color: #5B2C6F;">キャンセル済み</span>
                        {% else %}
                            <span class="status-badge status-completed">完了</span>
                        {% endif %}
                    </span>
                </div>
                {% if reservation.note %}
                    <div class="detail-row">
                        <span class="detail-label">ご備考</span>
                        <span class="detail-value">
                            {{ reservation.note|linebreaks }}
                        </span>
                    </div>
                {% endif %}
            </div>
        </div>

        <div class="action-buttons">
            {% if reservation.status == 'confirmed' %}
                <a href="{% url 'cancel_reservation' reservation.pk %}" class="btn btn-danger">
                    予約をキャンセル
                </a>
            {% endif %}
            <a href="{% url 'dashboard' %}" class="btn btn-secondary">
                戻る
            </a>
        </div>
    </div>
{% endblock %}
